{"version":3,"sources":["js/02-fragment-jumper.js"],"names":["article","document","querySelector","toolbar","jumpToAnchor","e","window","location","hash","this","id","preventDefault","scrollTo","computePosition","el","sum","contains","offsetParent","offsetTop","getBoundingClientRect","bottom","addEventListener","jumpOnLoad","target","getElementById","slice","bind","setTimeout","removeEventListener","Array","prototype","call","querySelectorAll","forEach"],"mappings":"CAAA,WACE,aAEA,IAAIA,EAAUC,SAASC,cAAc,eACjCC,EAAUF,SAASC,cAAc,YAYrC,SAASE,EAAcC,GACjBA,IACFC,OAAOC,SAASC,KAAO,IAAMC,KAAKC,GAClCL,EAAEM,kBAEJL,OAAOM,SAAS,EAflB,SAASC,EAAiBC,EAAIC,GAO5B,OALIf,EAAQgB,SAASF,GACRD,EAAgBC,EAAGG,aAAcH,EAAGI,UAAYH,GAEhDA,EAUMF,CAAgBJ,KAAM,GAAKN,EAAQgB,wBAAwBC,QAGhFd,OAAOe,iBAAiB,OAAQ,SAASC,EAAYjB,GACnD,IAAIG,EAAMe,GACLf,EAAOF,OAAOC,SAASC,QAAUe,EAAStB,SAASuB,eAAehB,EAAKiB,MAAM,OAChFrB,EAAasB,KAAKH,EAAlBnB,GACAuB,WAAWvB,EAAasB,KAAKH,GAAS,IAExCjB,OAAOsB,oBAAoB,OAAQN,KAGrCO,MAAMC,UAAUL,MAAMM,KAAK9B,SAAS+B,iBAAiB,iBAAiBC,QAAQ,SAAUnB,GACtF,IAAIN,EAAMe,GACLf,EAAOM,EAAGN,KAAKiB,MAAM,MAAQF,EAAStB,SAASuB,eAAehB,KACjEM,EAAGO,iBAAiB,QAASjB,EAAasB,KAAKH,MApCrD","file":"js/02-fragment-jumper.js","sourcesContent":["(function () {\n  'use strict'\n\n  var article = document.querySelector('article.doc')\n  var toolbar = document.querySelector('.toolbar')\n\n  function computePosition (el, sum) {\n    var position;\n    if (article.contains(el)) {\n      position = computePosition(el.offsetParent, el.offsetTop + sum)\n    } else {\n      position = sum    \n    }\n    return position;\n  }\n\n  function jumpToAnchor (e) {\n    if (e) {\n      window.location.hash = '#' + this.id\n      e.preventDefault()\n    }\n    window.scrollTo(0, computePosition(this, 0) - toolbar.getBoundingClientRect().bottom)\n  }\n\n  window.addEventListener('load', function jumpOnLoad (e) {\n    var hash, target\n    if ((hash = window.location.hash) && (target = document.getElementById(hash.slice(1)))) {\n      jumpToAnchor.bind(target)()\n      setTimeout(jumpToAnchor.bind(target), 0)\n    }\n    window.removeEventListener('load', jumpOnLoad)\n  })\n\n  Array.prototype.slice.call(document.querySelectorAll('a[href^=\"#\"]')).forEach(function (el) {\n    var hash, target\n    if ((hash = el.hash.slice(1)) && (target = document.getElementById(hash))) {\n      el.addEventListener('click', jumpToAnchor.bind(target))\n    }\n  })\n})()\n"]}