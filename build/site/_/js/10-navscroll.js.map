{"version":3,"sources":["js/10-navscroll.js"],"names":["showNav","nav_height","$","outerHeight","addClass","css","window","outerWidth","position","top","hasClass","hideNav","removeClass","document","ready","prevScrollTop","scroll","currScrollTop","this","scrollTop","isBackgroundBottomVisible","handleTOCScrolling","on"],"mappings":"AA4DA,SAASA,UACL,IAAIC,EAAaC,EAAE,YAAYC,cAG/BD,EAAE,YAAYE,SAAS,aACvBF,EAAE,YAAYG,IAAI,MAAO,OAGzBH,EAAE,eAAeG,IAAI,MAAOJ,EAAa,MACjB,KAApBK,OAAOC,YACPL,EAAE,cAAcG,IAAI,aAAcJ,EAAa,MAEnDC,EAAE,kBAAkBG,IAAI,aAAcJ,EAAa,MACnDC,EAAE,gBAAgBG,IAAI,CAACG,SAAY,QAASC,IAAOR,EAAa,OAGhEC,EAAE,QAAQG,IAAI,aAAcJ,EAAa,MAGrCC,EAAE,mCAAmCQ,SAAS,wBAC9CR,EAAE,mCAAmCG,IAAI,MAAOJ,EAAa,MAIJ,UAAzDC,EAAE,mCAAmCG,IAAI,aACzCH,EAAE,mCAAmCG,IAAI,MAAOJ,EAAa,MAIjEC,EAAE,YAAYG,IAAI,MAAOJ,EAAa,MAClCK,OAAOC,WAAa,MACpBL,EAAE,kBAAkBG,IAAI,MAAOJ,EAAaC,EAAE,YAAYC,cAAgB,MAC1ED,EAAE,QAAQG,IAAI,MAAO,KAGrBH,EAAE,QAAQG,IAAI,MAAQJ,EAAa,MAIvCC,EAAE,kCAAkCG,IAAI,MAAOJ,EAAaC,EAAE,YAAYC,cAAgB,MAI9F,SAASQ,UAELT,EAAE,YAAYU,YAAY,aAC1BV,EAAE,YAAYG,IAAI,CAACI,IAAO,UAG1BP,EAAE,eAAeG,IAAI,MAAO,OACJ,KAApBC,OAAOC,YACPL,EAAE,cAAcG,IAAI,aAAc,OAEtCH,EAAE,kBAAkBG,IAAI,aAAc,OACtCH,EAAE,gBAAgBG,IAAI,CAACG,SAAW,QAASC,IAAM,QAGjDP,EAAE,QAAQG,IAAI,aAAc,OAG5BH,EAAE,mCAAmCG,IAAI,MAAO,OAChDH,EAAE,mCAAmCG,IAAI,MAAO,OAGhDH,EAAE,YAAYG,IAAI,MAAO,OACrBC,OAAOC,WAAa,KACpBL,EAAE,kBAAkBG,IAAI,MAAOH,EAAE,YAAYC,cAAgB,MAI7DD,EAAE,kBAAkBG,IAAI,MAAO,IAH/BH,EAAE,QAAQG,IAAI,MAAO,IAQzBH,EAAE,kCAAkCG,IAAI,MAAOH,EAAE,YAAYC,cAAgB,MA5HjFD,EAAEW,UAAUC,MAAM,WACd,IAAIC,EAAgB,EACvBb,EAAEI,QAAQU,OAAO,WACV,IAAIC,EAAgBf,EAAEgB,MAAMC,YAExBF,EAAgBf,EAAE,YAAYC,eAE9BD,EAAE,YAAYG,IAAI,WAAY,UAGVU,EAAhBE,EACAN,UAIAX,YAIJE,EAAE,gBAAgBG,IAAI,CAACG,SAAY,WAAYC,IAAO,KACtDP,EAAE,YAAYG,IAAI,CAACG,SAAY,SAAUC,IAAO,KAChDP,EAAE,QAAQG,IAAI,MAAO,KAIJ,GAAjBY,IACAf,EAAE,YAAYU,YAAY,aAC1BV,EAAE,QAAQG,IAAI,aAAc,OAC5BH,EAAE,eAAeG,IAAI,CAACG,SAAY,GAAIC,IAAO,MAIR,mBAA9BW,2BACJA,6BACCC,qBAIRN,EAAgBE,IAGpBf,EAAEI,QAAQgB,GAAG,SAAU,WACkB,UAAjCpB,EAAE,YAAYG,IAAI,aAA2BH,EAAE,YAAYQ,SAAS,cACpER,EAAE,YAAYG,IAAI,MAAOH,EAAE,YAAYC,cAAgB","file":"js/10-navscroll.js","sourcesContent":["/*******************************************************************************\n * Copyright (c) 2019 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n\n$(document).ready(function() {\n    var prevScrollTop = 0;\n\t$(window).scroll(function() {\n        var currScrollTop = $(this).scrollTop();\n        // if scrolled past nav bar, determine whether to hide or show nav bar\n        if (currScrollTop > $(\"#nav_bar\").outerHeight()) {\n            // make docs toolbar position sticky once you scroll past nav bar\n            $(\".toolbar\").css(\"position\", \"sticky\");\n\n            // if scrolling down, hide nav bar\n            if (currScrollTop > prevScrollTop) {\n                hideNav();\n            } \n            // if scrolling up, show nav bar\n            else {\n                showNav();\n            }\n        }\n        else {\n            $(\"#code_column\").css({\"position\": \"absolute\", \"top\": \"\"});\n            $(\".toolbar\").css({\"position\": \"static\", \"top\": \"\"});\n            $(\".nav\").css(\"top\", \"\");\n        }\n\n        // When page scrolled back to top: Make nav bar no longer fixed, reset body margin-top\n        if (currScrollTop == 0) {\n            $(\"#nav_bar\").removeClass(\"fixed_top\");\n            $('body').css(\"margin-top\", \"0px\");\n            $('#toc_column').css({'position': '', 'top': ''});\n        }\n\n        // make toc scroll off of screen at Nice Work section in guides\n        if (typeof isBackgroundBottomVisible === \"function\") {\n            if(isBackgroundBottomVisible()) {\n                handleTOCScrolling();\n            }\n        }\n\n        prevScrollTop = currScrollTop;\n    });\n\n    $(window).on('resize', function() {\n        if ($(\".toolbar\").css(\"position\") == \"sticky\" && $(\"#nav_bar\").hasClass(\"fixed_top\")) {\n            $(\".toolbar\").css(\"top\", $(\"#nav_bar\").outerHeight() + \"px\");\n        }\n    });\n});\n\n// slide nav bar into view, move down elements that are fixed to top of screen\nfunction showNav() {\n    var nav_height = $(\"#nav_bar\").outerHeight();\n\n    // fix nav bar to top of screen\n    $(\"#nav_bar\").addClass(\"fixed_top\");\n    $(\"#nav_bar\").css(\"top\", \"0px\");\n\n    // push toc column, toc indicator and code column down below nav bar\n    $(\"#toc_column\").css(\"top\", nav_height + \"px\");\n    if (window.outerWidth > 1440) {\n        $(\"#toc_inner\").css(\"margin-top\", nav_height + \"px\");\n    }\n    $(\"#toc_indicator\").css(\"margin-top\", nav_height + \"px\");\n    $(\"#code_column\").css({\"position\": \"fixed\", \"top\": nav_height + \"px\"});\n\n    // add margin-top to body so page doesn't jump when nav slides into view\n    $('body').css(\"margin-top\", nav_height + \"px\");\n\n    // in guides, if mobile toc accodion is fixed to top of screen, move toc accordion below fixed nav bar\n    if ($(\"#mobile_toc_accordion_container\").hasClass(\"fixed_toc_accordion\")) {\n        $(\"#mobile_toc_accordion_container\").css(\"top\", nav_height + \"px\");\n    }\n\n    // on /guides, if tablet toc accordion is fixed to top of screen, move toc accordion below fixed nav bar\n    if ($(\"#tablet_toc_accordion_container\").css(\"position\") === \"fixed\") {\n        $(\"#tablet_toc_accordion_container\").css(\"top\", nav_height + \"px\");\n    }\n\n    // adjust docs toolbar and nav position\n    $(\".toolbar\").css(\"top\", nav_height + \"px\");\n    if (window.outerWidth < 1024) {\n        $(\".nav-container\").css(\"top\", nav_height + $(\".toolbar\").outerHeight() + \"px\");\n        $(\".nav\").css(\"top\", \"\");\n    }\n    else {\n        $(\".nav\").css(\"top\",  nav_height + \"px\");\n    }\n\n    // move config breadcrumb down when nav bar in view\n    $(\".contentStickyBreadcrumbHeader\").css(\"top\", nav_height + $(\".toolbar\").outerHeight() + \"px\");\n}\n\n// slide nav bar back out of view, reset elements that were pushed down\nfunction hideNav() {\n    // reset nav bar and move off screen\n    $(\"#nav_bar\").removeClass(\"fixed_top\");\n    $(\"#nav_bar\").css({\"top\": \"-60px\"});\n\n    // reset toc column, toc indicator and code column position\n    $(\"#toc_column\").css(\"top\", \"0px\");\n    if (window.outerWidth > 1440) {\n        $(\"#toc_inner\").css(\"margin-top\", \"0px\");\n    }\n    $(\"#toc_indicator\").css(\"margin-top\", \"0px\");\n    $(\"#code_column\").css({\"position\":\"fixed\", \"top\":\"0px\"})\n\n    // reset body margin-top\n    $('body').css(\"margin-top\", \"0px\");\n\n    // fix mobile and tablet toc accordion to top of screen again\n    $(\"#mobile_toc_accordion_container\").css(\"top\", \"0px\");\n    $(\"#tablet_toc_accordion_container\").css(\"top\", \"0px\");\n\n    // adjust docs toolbar and nav position\n    $(\".toolbar\").css(\"top\", \"0px\");\n    if (window.outerWidth < 1024) {\n        $(\".nav-container\").css(\"top\", $(\".toolbar\").outerHeight() + \"px\");\n        $(\".nav\").css(\"top\", \"\");\n    }\n    else {\n        $(\".nav-container\").css(\"top\", \"\");\n        $(\".nav\").css(\"top\", \"\");\n    }\n\n    // move config breadcrumb back up when nav bar slides out of view\n    $(\".contentStickyBreadcrumbHeader\").css(\"top\", $(\".toolbar\").outerHeight() + \"px\");\n}"]}