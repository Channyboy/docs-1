var PACKAGE_FRAME=".leftBottom iframe",CLASS_FRAME="iframe.rightIframe",DEFAULT_PACKAGE_HTML="allclasses-frame.html",DEFAULT_CLASS_HTML="overview-summary.html",PACKAGE_HASH="package=",CLASS_HASH="class=",defaultHtmlRootPath="",defaultPackageHtml="",defaultClassHtml="";function resizeJavaDocWindow(){var t=$("#background_container").outerHeight(),e=$("#footer_container").height(),a=$(window).height()-(t+e);$("#javadoc_container").height(a)}function addAccessibility(){var t=$("#javadoc_container").contents().find("iframe[name='classFrame']");t.contents().find("#search").attr("aria-label","Search"),t.contents().find("#reset").attr("aria-label","Reset the search field"),t.contents().find("header > nav").removeAttr("role").attr("aria-label","Header navigation"),t.contents().find("footer > nav").removeAttr("role").attr("aria-label","Footer navigation")}function addExpandAndCollapseToggleButtons(){var t=$("#javadoc_container").contents(),e=t.find("iframe"),s=t.find(".leftTop"),l=t.find(".leftBottom");$(e).each(function(){var t="packageListFrame"===$(this).attr("name"),e="packageFrame"===$(this).attr("name");$(this).attr("name");if(t&&0===$(this).contents().find(".toggle").length){var a=$(this).contents().find('ul[title="Packages"]'),n=$(this).contents().find("h2[title='Packages']");$(this).contents().find("body > p").hide();var i=n.outerHeight(!0),o=$('<div class="toggle" collapsed="false" tabindex=0><img src="/img/all_guides_minus.svg" alt="Collapse" aria-label="Collapse" /></div>');o.on("click",function(){"true"===$(this).attr("collapsed")?(a.show(),s.css("height","45%"),l.css("height","55%"),$(this).empty().append($('<img src="/img/all_guides_minus.svg" alt="Collapse" aria-label="Collapse"/>')),$(this).attr("collapsed",!1)):(a.hide(),s.css("height",i),s.css("overflow","hidden"),l.css("height","86%"),$(this).empty().append($('<img src="/img/all_guides_plus.svg" alt="Expand" aria-label="Expand"/>')),$(this).attr("collapsed",!0))}),o.on("keypress",function(t){t.stopPropagation(),13!==t.which&&13!==t.keyCode||o.click()}),n.append(o)}e&&0===$(this).contents().find(".toggle").length&&addExpandAndCollapseToggleButtonForPackageFrame($(this).contents(),l)})}function addExpandAndCollapseToggleButtonForPackageFrame(t,e){var a=t.find("main.indexContainer > ul"),n=(t.find("div.leftBottom"),t.find("h1.bar"));"All Classes"===n.text().replace("/s/g"," ").trim()&&t.find("main.indexContainer").prepend(n.remove());var i=t.find("h1:contains('Classes')"),o=i.outerHeight(!0);if("All Classes"===i.text().replace("/s/g"," ").trim()){var s=$('<div class="toggle" collapsed="false" tabindex=0><img src="/img/all_guides_minus.svg" alt="Collapse" aria-label="Collapse" /></div>');s.on("click",function(){"true"===$(this).attr("collapsed")?(a.show(),e.css("height","55%"),$(this).empty().append($('<img src="/img/all_guides_minus.svg" alt="Collapse" aria-label="Collapse"/>')),$(this).attr("collapsed",!1)):(a.hide(),e.css("height",o),$(this).empty().append($('<img src="/img/all_guides_plus.svg" alt="Expand" aria-label="Expand"/>')),$(this).attr("collapsed",!0))}),s.on("keypress",function(t){t.stopPropagation(),13!==t.which&&13!==t.keyCode||s.click()}),i.append(s)}}function addiPadScrolling(){navigator.platform.match(/iPad/)&&($("#javadoc_container").contents().find(".leftTop, .leftBottom, .rightContainer").css("-webkit-overflow-scrolling","touch"),$("#javadoc_container").contents().find(".leftTop, .leftBottom, .rightContainer").css("overflow-y","scroll"))}function addScrollListener(){$("#javadoc_container").contents().find(CLASS_FRAME).contents().off("scroll").on("scroll",function(t){hideFooter($(this))})}function addLeftFrameScrollListener(t,e){var a=$("#javadoc_container").contents().find(t),n=a.contents().find(e),i=a.contents().find("h2[title='Packages']").next(),o=a.contents().find("h1.bar").next(),s=n.offset().top,l=parseInt(n.css("padding-top").replace("px","")),r=n.height(),c=n.css("border-top-width"),d=n.css("border-top-style"),f=n.css("border-top-color"),h='<style data-class="sticky">.sticky:before {top:'+l+"px; border-top-width: "+c+"; border-top-style: "+d+"; border-top-color: "+f+";}</style>";a.contents().off("scroll").on("scroll",function(t){var e=$(this).scrollTop();s-20<=e?n.hasClass("sticky")||(n.css("padding-top",s+l),i.css("padding-top",s+l+r),o.css("padding-top",s+l+r),n.css("border-top-width","0px"),n.css("border-top-style","solid"),n.css("border-top-color","transparent"),$(this).find('head style[data-class="sticky"]').length?$(this).find('head style[data-class="sticky"]').replaceWith(h):$(this).find("head").append(h),n.addClass("sticky")):n.hasClass("sticky")&&(n.removeClass("sticky"),n.css("padding-top",l),n.css("border-top-width",c),n.css("border-top-style",d),n.css("border-top-color",f))})}function hideFooter(t){var e=t.scrollTop(),a=$("#javadoc_container").contents().find(CLASS_FRAME).contents()[0].documentElement.clientHeight,n=t.height(),i=$("footer");.85*n<e+a?i.data("visible")&&"false"!==i.data("visible")||(i.data("visible",!0),i.css("display","block")):i.data("visible")&&(i.data("visible","false"),i.css("display","none"))}function addNavHoverListener(){var t=$("#javadoc_container").contents().find(CLASS_FRAME).contents().find("ul.navList li:has(a)");t.off("mouseover").on("mouseover",function(){$(this).addClass("clickableNavListTab")}),t.off("mouseleave").on("mouseleave",function(){$(this).removeClass("clickableNavListTab")})}function parseQueryParams(){var t={},e=parent.window.location.hash;if(""!=e&&null!=e){var a=(e=e.substring(1)).split("&");for(i=0;i<a.length;i++){var n=a[i].trim();if(0===n.indexOf(PACKAGE_HASH))t.package=n.substring(8);else{var o=n;0===n.indexOf(CLASS_HASH)?o=n.substring(6):-1!==n.indexOf("=")&&(o=""),""!==o&&(t.class=o)}}}return t}function setDynamicIframeContent(){if(""===defaultPackageHtml){var t=$("#javadoc_container").contents().find(".leftTop iframe").contents().attr("location");defaultHtmlRootPath=getJavaDocHtmlPath(t.href,!0),defaultPackageHtml=defaultHtmlRootPath+DEFAULT_PACKAGE_HTML,defaultClassHtml=defaultHtmlRootPath+DEFAULT_CLASS_HTML}var e=parseQueryParams();e.package&&setIFrameContent(PACKAGE_FRAME,defaultHtmlRootPath+e.package),e.class&&setIFrameContent(CLASS_FRAME,defaultHtmlRootPath+e.class),updateTitle(e.package)}function updateTitle(t){if(void 0!==t&&"allclasses-frame.html"!==t){t=t.substring(0,t.lastIndexOf("/")).replace(/\//g,".");window.top.location.pathname.includes("microprofile")?$("title").text(t+" - MicroProfile API - Open Liberty"):$("title").text(t+" - Java EE API - Open Liberty")}}function addClickListeners(){var t=$("#javadoc_container").contents().find("iframe");$(t).each(function(){addClickListener($(this).contents())})}function addClickListener(t){t.on("click",function(t){var e=!0,a=CLASS_FRAME,n=CLASS_HASH,i=t.target.href;if(void 0===t.target.target?"a"===t.target.parentNode.localName?(i=t.target.parentNode.href,"packageFrame"===t.target.parentNode.target&&(a=PACKAGE_FRAME,n=PACKAGE_HASH)):e=!1:"packageFrame"===t.target.target?(a=PACKAGE_FRAME,n=PACKAGE_HASH):t.target.href&&0===t.target.href.indexOf("javascript:")&&(e=!1),e){t.preventDefault(),t.stopPropagation();var o=setHashParams(i,n);setIFrameContent(a,i),setPackageContainerHeight();var s={};s[a]=i;var l=getRemainingHashParam(o,n);$.each(l,function(t,e){var a=CLASS_FRAME;t===PACKAGE_HASH&&(a=PACKAGE_FRAME),s[a]=defaultHtmlRootPath+e}),window.history.pushState(s,null,o),updateTitle(o.substring(1).split("&").sort()[1].replace("package=","")),$(t.target.parentNode).parents(".indexContainer").find("li.selected").removeClass("selected"),$(t.target).parents("li").first().addClass("selected")}})}function setPackageContainerHeight(){var t=$("#javadoc_container").contents().find(".leftBottom");"55%"!==t.css("height")&&t.css("height","55%")}function setIFrameContent(t,e){var a=$("#javadoc_container").contents().find(t).contents(),n=window.top.location.pathname;if(n.includes("microprofile"))var i="/javadocs/microprofile-"+n.slice(-4,-1)+"-javadoc/allclasses-frame.html";else i="/javadocs/liberty-javaee"+n.slice(-2,-1)+"-javadoc/allclasses-frame.html";var o=new XMLHttpRequest;o.onreadystatechange=function(){4===this.readyState&&200===this.status?a.attr("location").href!==e&&a.attr("location").replace(e):404===this.status&&("iframe.rightIframe"===t?a.attr("location").replace("/docs/ref/javadocs/doc-404.html"):".leftBottom iframe"===t&&a.attr("location").replace(i))},o.open("HEAD",e),o.send()}function getRemainingHashParam(t,e){var a=PACKAGE_HASH,n={};if(e===PACKAGE_HASH&&(a=CLASS_HASH),-1!==t.indexOf(a))try{var i=new RegExp(".*"+a+"(.*?.html).*","g").exec(t);n[a]=i[1]}catch(t){}return n}function setHashParams(t,e){var a=window.location.hash;if(void 0!==t&&""!=t){var n=e+getJavaDocHtmlPath(t);if(-1===window.location.hash.indexOf(n))if(-1!==window.location.hash.indexOf(e))try{var i=new RegExp("(.*)"+e+".*?.html(.*)","g").exec(window.location.hash);a=i?i[1]+n+i[2]:"#"+n}catch(t){}else n=-1===window.location.hash.indexOf("#")?"#"+n:"&"+n,a=window.location.hash+n}return-1===a.indexOf(PACKAGE_HASH)&&(a+="&"+PACKAGE_HASH+getJavaDocHtmlPath(defaultPackageHtml)),-1===a.indexOf(CLASS_HASH)&&(a+="&"+CLASS_HASH+getJavaDocHtmlPath(defaultClassHtml)),a}function getJavaDocHtmlPath(t,e){var a="";try{var n=new RegExp("(.*/docs/modules/reference/.*-javadoc/)(.*)","g").exec(t);a=e?n[1]:n[2]}catch(t){}return a}function versionClick(t){t.target.href+=window.location.hash}function highlightTOC(t){var e,a,n=parseQueryParams(),i=$("#javadoc_container").contents().find(t).contents();".leftTop iframe"==t?(a=n.package,e=i.find('li a[href="'+a+'"]')):t==PACKAGE_FRAME&&(a=(a=n.class).substring(a.lastIndexOf("/")+1),e=i.find('li a[href="'+a+'"]')),e&&e.parents("li").first().addClass("selected")}$(document).ready(function(){$(window).on("resize",function(){resizeJavaDocWindow()}),$("#javadoc_container").on("load",function(){resizeJavaDocWindow(),addAccessibility(),addExpandAndCollapseToggleButtons(),addNavHoverListener(),addLeftFrameScrollListener(".leftTop iframe",'h2[title="Packages"]'),addLeftFrameScrollListener(PACKAGE_FRAME,".bar"),addScrollListener(),addClickListeners(),addiPadScrolling(),highlightTOC(".leftTop iframe"),$("#javadoc_container").contents().find(PACKAGE_FRAME).on("load",function(){addClickListener($(this).contents()),addExpandAndCollapseToggleButtonForPackageFrame($(this).contents(),$("#javadoc_container").contents().find(".leftBottom")),addLeftFrameScrollListener(PACKAGE_FRAME,".bar"),highlightTOC(PACKAGE_FRAME)}),$("#javadoc_container").contents().find(CLASS_FRAME).on("load",function(){addAccessibility(),addNavHoverListener(),addScrollListener(),addClickListener($(this).contents())}),setDynamicIframeContent(),window.onpopstate=function(t){t.state?($.each(t.state,function(t,e){setIFrameContent(t,e)}),setPackageContainerHeight()):(setIFrameContent(PACKAGE_FRAME,defaultPackageHtml),setIFrameContent(CLASS_FRAME,defaultClassHtml))}})});
//# sourceMappingURL=06-javadocs.js.map