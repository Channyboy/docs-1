// Copyright (c) 2021 IBM Corporation and others.
// Licensed under Creative Commons Attribution-NoDerivatives
// 4.0 International (CC BY-ND 4.0)
//   https://creativecommons.org/licenses/by-nd/4.0/
//
// Contributors:
//     IBM Corporation
//
:page-description: The Admin Center feature enables a web-based graphical user interface (GUI) for Open Liberty servers. You can use the Admin Center to manage and monitor your server configuration, Open ID Connect permissions, and Java Batch jobs.
:seo-title: Manage Open Liberty from a browser with the Admin Center GUI
:page-layout: general-reference
:page-type: general
= Manage Open Liberty from a browser with Admin Center

The Open Liberty Admin Center is a web-based graphical user interface (GUI) for Open Liberty servers. You can use the Admin Center to manage and monitor your server configuration, Open ID Connect permissions, and Java Batch jobs.

== Admin Center setup

To use the Admin Center, you must enable the feature:adminCenter[display=Admin Center feature] in your `server.xml` file and https://www.openliberty.io/docs/latest/reference/feature/appSecurity-3.0.html#_configure_rest_api_access_roles[configure access roles] for at least one for either the reader or administrator security role. Furthermore, because Admin Center is only accessible over HTTPS, you msut specify an HTTPS port and configure a keystore.

You can use the following example `server.xml` file to try out Admin Center. This example enables the `adminCenter-1.0` feature and configures a https://www.openliberty.io/docs/latest/user-registries-application-security.html#_basic_user_registries_for_application_development[basic user registry] that defines users in the `reader-role` and `administrator-role` security roles. It also specifies an HTTPS port in the `httpEndpoint` and a default keystore and password reference in the `keyStore` element:
+
[source,xml]
----
<server description="Admin Center example server">
   <!-- Enable features -->
   <featureManager>
      <feature>adminCenter-1.0</feature>
   </featureManager>
   <!-- Define two users-->
   <basicRegistry id="basic">
      <user name="admin" password="adminpwd" />
      <user name="reader" password="readerpwd" />
   </basicRegistry>
   <!-- A user with the administrator-role has full access to the Admin Center -->
   <administrator-role>
      <user>admin</user>
   </administrator-role>
   <!-- A user with the reader-role has read-only access to the Admin Center -->
   <reader-role>
      <user>reader</user>
   </reader-role>
   <!-- To protect keystore files that have server authentication credentials, define a keystore and assign it a password -->
   <keyStore id="defaultKeyStore" password="Liberty" />
   <httpEndpoint id="defaultHttpEndpoint"
                 host="*"
                 httpPort="9080"
                 httpsPort="9443" />
</server>
----
+


== Admin Center login

 To access the Admin Center GUI, make sure your server is running and point a web browser at the Admin Center login page:
+
`https://host_name:port_number/adminCenter/`

For the `host_name` value, specify the IP address or domain name server (DNS) hostname of the computer on which the Open Liberty server is running. If the browser is running on the same computer as the server, you can specify `localhost`.

For the `port_number` value, specify the `httpsPort` value from the `httpEndpoint` element in your `server.xml` file.
+
For example, if your browser is running on the same computer as your server and you use the previous example `server.xml` configuration, Admin Center is accessible from the following URL:
+
`https://localhost:9443/adminCenter/`
+
If your browser prompts you to confirm that the connection is trusted, specify an exception or otherwise enable the connection to continue to Admin Center.
To log in to Admin Center, specify the username and password from your security role configuration. For example, if you use the example previously provided `server.xml configuration, specify the _admin_ username  and the _adminpwd_ password.

The following screenshot shows the Admin Center login screen:
+
image::ui_login.png[The Admin Center login screen,align="center"]

== The Toolbox

After you log in to Admin Center, the browser displays the Toolbox, which contains tools such as the **Server Config** and **Explore** tools and a bookmark to link:https://openliberty.io[openliberty.io].

The following tools are available from the Admin Center. The **Server Config** and **Explore** tools are available by default. The **Java Batch** and **Open ID Connect** tools are available only if you enable and configure the respective Open Liberty features for those functions. Ypu can add or remove tools from the Toolbox by selecting the **Edit** icon. To use a tool, select its Toolbox icon.

=== The Server Config tool

You can use the **Server Config** tool to view and edit Open Liberty server configuration files.
To edit configuration files, you must be in the `administrator-role` security role. Before you can edit configuration files, the tool prompts you to add a link:https://openliberty.io/docs/latest/reference/config/remoteFileAccess.html[remoteFileAccess] element to your `server.xml` file. You can copy the example element from the browser window or configure it  manually. If you do not add this element, configuration files are shown in read-only mode.

To enable write access to configuration files, add the following code to your `server.xml` file:
[source, xml]
----
<remoteFileAccess>
   <writeDir>${server.config.dir}</writeDir>
</remoteFileAccess>
----

The **Server Config** tool displays configuration files, such as a `server.xml` file, in two modes: Design and Source. Each of these modes can be accessed from a browser tab within the tool. The Design mode displays the content of configuration files by using graphical controls with inline documentation. The Source mode provides direct access to edit the file text and provides popup descriptions for file elements. You can customize the modes, for example, to add or remove parameter descriptions on the Design mode or to add or remove line numbers on the Source mode, by clicking the **Settings** icon.

The following screenshot shows the Design tab of the **Server Config** tool:

image::ui_serverConfigTool2.png[Server Config Tool Design tab align="center"]

=== The Explore tool
You can use the **Explore** tool to monitor and manage Open Liberty resources. This tool offers options to view information about the server and its applications. You can also use it to stop, start, or restart resources.

You can use the Applications view on the vertical navigation bar to monitor, stop, start, or restart applications that are running on your server.

The Monitor view on the vertical navigation bar shows server and system metrics graphically in charts. You can use the Monitor view to track heap memory, loaded classes, active Java virtual machine (JVM) threads, and central processing unit (CPU) usage. The following screenshot shows the Monitor view of the **Explore** tool:

image::ui_exploreTool3.png[monitor view of explore tool,align="center"]

You can add additional resource metrics to the monitor view by selecting the **Edit** icon and choosing from the menu. When the feature:monitor[display=Performance Monitoring] feature is enabled, additional resource metrics are available from this menu. Depending on what resources are configured for the server, the following resource metrics might be available:

- Active Sessions
- Active Liberty Threads
- Average Response Time
- Average Wait Time
- Request Count
- Used Connections

[#TAG_6]
=== The Java Batch tool

If you configure the feature:batchManagement[display=Batch Management] feature, you can access the Admin Center **Java Batch** tool. With the **Java Batch** tool you can view the progress and status of your Java batch jobs, manage their instances, and view their log files.
If the batch jobs or job logs do not reside on the server that runs Admin Center, link:/guides/cors.html[configure cross origin region sharing (CORS)] on each remote server that has batch jobs or job logs. CORS enables Admin Center to request job information from remote servers.

[#TAG_7]
=== The OpenID Connect (OIDC) tools

If you enable the feature:openidConnectServer[display=OpenID Connect Provider feature] and link:https://openliberty.io/blog/2019/09/13/microprofile-reactive-messaging-19009.html#oidc[configure OpenID Connect], you can access the following **OpenID Connect* tools from the Admin Center:

* OpenID Connect Client Management Tool
+
You can use this tool to allow an administrator to manage clients on an OpenID Connect provider.
+

* OpenID Connect Personal Token Management Tool
+
You can use this tool to allow a user to manage application passwords and application tokens on an OpenID Connect provider.
+

* OpenID Connect Users Token Management Tool
+
You can use this tool to allow an administrator to revoke application passwords and app-tokens of other users on an OpenID Connect provider.
